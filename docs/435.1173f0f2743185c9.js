"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[435],{435:(ae,x,a)=>{a.r(x),a.d(x,{default:()=>oe});var e=a(2223),c=a(1531),d=a(4755),s=a(1728),m=a(430),v=a(7579),p=a(2722),u=a(2214),h=a(3649),Z=a(1135),A=a(8505),k=a(5698),Q=a(4004),U=a(3900),f=a(2843),I=a(9646),q=a(3144);let g=(()=>{class n{constructor(t){this._httpClient=t,this._item=new Z.X(null),this._items=new Z.X(null)}get items$(){return this._items.asObservable()}get item$(){return this._item.asObservable()}getItems(t=null){return this._httpClient.get("api/apps/file-manager",{params:{folderId:t}}).pipe((0,A.b)(i=>{this._items.next(i)}))}getItemById(t){return this._items.pipe((0,k.q)(1),(0,Q.U)(i=>{const r=[...i.folders,...i.files].find(l=>l.id===t)||null;return this._item.next(r),r}),(0,U.w)(i=>i?(0,I.of)(i):(0,f._)("Could not found the item with id of "+t+"!")))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var D=a(3601);const w=["matDrawer"];function J(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.items.folders.length," folders, ",t.items.files.length," files ")}}const y=function(n){return["/apps/file-manager/folders/",n]};function L(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",17),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,y,t.id)),e.xp6(1),e.Oqu(t.name)}}function B(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}function O(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2,"/"),e.qZA(),e.BQk())}function Y(n,o){if(1&n&&(e.ynx(0),e.YNc(1,L,3,4,"ng-container",9),e.YNc(2,B,3,1,"ng-container",9),e.YNc(3,O,3,0,"ng-container",9),e.BQk()),2&n){const t=o.last;e.xp6(1),e.Q6J("ngIf",!t),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}const N=function(){return["/apps/file-manager"]};function j(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",16)(2,"a",17),e._uU(3,"Home "),e.qZA(),e.TgZ(4,"div",18),e._uU(5,"/"),e.qZA(),e.YNc(6,Y,4,3,"ng-container",19),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("routerLink",e.DdM(3,N)),e.xp6(4),e.Q6J("ngForOf",t.items.path)("ngForTrackBy",t.trackByFn)}}function R(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.contents)}}const T=function(n){return["./details/",n]};function S(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",23)(2,"a",24),e.NdJ("click",function(i){return i.preventDefault()}),e._UZ(3,"mat-icon",25),e.qZA(),e.TgZ(4,"a",26)(5,"div",27)(6,"div",28),e._UZ(7,"mat-icon",29),e.qZA()(),e.TgZ(8,"div",30)(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,R,3,1,"ng-container",9),e.qZA()()(),e.BQk()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(7,T,t.id)),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:information-circle"),e.xp6(1),e.Q6J("routerLink",e.VKq(9,y,t.id)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:folder"),e.xp6(2),e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.contents)}}function z(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div")(2,"div",21),e._uU(3,"Folders"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,S,12,11,"ng-container",19),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.items.folders)("ngForTrackBy",t.trackByFn)}}function $(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.contents)}}function X(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",33)(2,"div",27)(3,"div",28)(4,"div",34),e._UZ(5,"mat-icon",29),e.TgZ(6,"div",35),e._uU(7),e.qZA()()()(),e.TgZ(8,"div",30)(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,$,3,1,"ng-container",9),e.qZA()(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(16,T,t.id)),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:document"),e.xp6(1),e.ekj("bg-red-600","PDF"===t.type)("bg-blue-600","DOC"===t.type)("bg-green-600","XLS"===t.type)("bg-gray-600","TXT"===t.type)("bg-amber-600","JPG"===t.type),e.xp6(1),e.hij(" ",t.type.toUpperCase()," "),e.xp6(2),e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.contents)}}function K(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div")(2,"div",21),e._uU(3,"Files"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,X,12,18,"ng-container",19),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.items.files)("ngForTrackBy",t.trackByFn)}}function H(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",20),e.YNc(2,z,6,2,"ng-container",9),e.YNc(3,K,6,2,"ng-container",9),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.items.folders.length>0),e.xp6(1),e.Q6J("ngIf",t.items.files.length>0)}}function P(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"mat-icon",37),e.TgZ(2,"div",38),e._uU(3,"There are no items!"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:folder-open"))}let _=(()=>{class n{constructor(t,i,r,l,re){this._activatedRoute=t,this._changeDetectorRef=i,this._router=r,this._fileManagerService=l,this._fuseMediaWatcherService=re,this._unsubscribeAll=new v.x}ngOnInit(){this._fileManagerService.items$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.items=t,this._changeDetectorRef.markForCheck()}),this._fileManagerService.item$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.selectedItem=t,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.drawerMode=t.matches?"side":"over",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(t,i){return i.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(e.sBO),e.Y36(c.F0),e.Y36(g),e.Y36(D.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["file-manager-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(w,7),2&t){let r;e.iGM(r=e.CRH())&&(i.matDrawer=r.first)}},standalone:!0,features:[e.jDz],decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"flex","items-center","space-x-2"],[1,"text-primary","cursor-pointer",3,"routerLink"],[1,""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-6","md:p-8","space-y-8"],[1,"font-medium"],[1,"flex","flex-wrap","-m-2","mt-2"],[1,"relative","w-40","h-40","m-2","p-4","shadow","rounded-2xl","bg-card"],["mat-icon-button","",1,"absolute","z-20","top-1.5","right-1.5","w-8","h-8","min-h-8",3,"routerLink","click"],[1,"icon-size-5",3,"svgIcon"],[1,"z-10","absolute","inset-0","flex","flex-col","p-4","cursor-pointer",3,"routerLink"],[1,"aspect-[9/6]"],[1,"flex","items-center","justify-center","h-full"],[1,"icon-size-14","text-hint","opacity-50",3,"svgIcon"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"text-secondary","truncate"],[1,"flex","flex-col","w-40","h-40","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card",3,"routerLink"],[1,"relative"],[1,"absolute","left-0","bottom-0","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return i.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3),e._UZ(4,"router-outlet"),e.qZA(),e.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),e._uU(10,"File Manager"),e.qZA(),e.TgZ(11,"div",8),e.YNc(12,J,2,2,"ng-container",9),e.YNc(13,j,7,4,"ng-container",9),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e._UZ(16,"mat-icon",12),e.TgZ(17,"span",13),e._uU(18,"Upload file"),e.qZA()()()(),e.YNc(19,H,4,2,"ng-container",14),e.YNc(20,P,4,1,"ng-template",null,15,e.W1O),e.qZA()()()()),2&t){const r=e.MAs(21);e.xp6(2),e.Q6J("mode",i.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(10),e.Q6J("ngIf",!i.items.path.length),e.xp6(1),e.Q6J("ngIf",i.items.path.length),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(3),e.Q6J("ngIf",i.items&&(i.items.folders.length>0||i.items.files.length>0))("ngIfElse",r)}},dependencies:[u.SJ,u.jA,u.kh,u.LW,c.lC,d.O5,c.rH,d.ax,s.ot,s.lW,s.o6,m.Ps,m.Hw,h.AV,h.gM],encapsulation:2,changeDetection:0}),n})();function W(n,o){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:folder"))}function E(n,o){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:document"))}function G(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13),e._uU(3,"Contents"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.item.contents)}}function V(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.item.description)}}function ee(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",24),e._uU(2,"Click here to add a description"),e.qZA(),e.BQk())}const te=function(){return["../../"]};let b=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._fileManagerListComponent=i,this._fileManagerService=r,this._unsubscribeAll=new v.x}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._fileManagerService.item$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this._fileManagerListComponent.matDrawer.open(),this.item=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(t,i){return i.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(_),e.Y36(g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["file-manager-details"]],standalone:!0,features:[e.jDz],decls:51,vars:28,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"mt-8","aspect-[9/6]"],[1,"flex","items-center","justify-center","h-full","border","rounded-lg","bg-gray-50","dark:bg-card"],[4,"ngIf"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"mt-1","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"flex","items-center","justify-between","mt-8"],[1,"text-lg","font-medium"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","mt-2","border-t"],[1,"py-3"],[1,"grid","grid-cols-2","gap-4","w-full","mt-8"],["mat-flat-button","",1,"flex-auto",3,"color"],["mat-stroked-button","",1,"flex-auto"],[1,"icon-size-24","text-hint",3,"svgIcon"],[1,"italic","text-secondary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"mat-icon",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,W,2,1,"ng-container",6),e.YNc(7,E,2,1,"ng-container",6),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.qZA()(),e.TgZ(13,"div",10),e._uU(14,"Information"),e.qZA(),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13),e._uU(18,"Created By"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.qZA()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23,"Created At"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()(),e.TgZ(26,"div",12)(27,"div",13),e._uU(28,"Modified At"),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"div",12)(32,"div",13),e._uU(33,"Size"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()(),e.YNc(36,G,6,1,"ng-container",6),e.qZA(),e.TgZ(37,"div",14)(38,"div",15),e._uU(39,"Description"),e.qZA(),e.TgZ(40,"button",16),e._UZ(41,"mat-icon",17),e.qZA()(),e.TgZ(42,"div",18)(43,"div",19),e.YNc(44,V,3,1,"ng-container",6),e.YNc(45,ee,3,0,"ng-container",6),e.qZA()(),e.TgZ(46,"div",20)(47,"button",21),e._uU(48," Download "),e.qZA(),e.TgZ(49,"button",22),e._uU(50," Delete "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(27,te)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("ngIf","folder"===i.item.type),e.xp6(1),e.Q6J("ngIf","folder"!==i.item.type),e.xp6(3),e.Oqu(i.item.name),e.xp6(1),e.ekj("bg-indigo-600","folder"===i.item.type)("bg-red-600","PDF"===i.item.type)("bg-blue-600","DOC"===i.item.type)("bg-green-600","XLS"===i.item.type)("bg-gray-600","TXT"===i.item.type)("bg-amber-600","JPG"===i.item.type),e.xp6(1),e.hij(" ",i.item.type.toUpperCase()," "),e.xp6(8),e.Oqu(i.item.createdBy),e.xp6(5),e.Oqu(i.item.createdAt),e.xp6(5),e.Oqu(i.item.modifiedAt),e.xp6(5),e.Oqu(i.item.size),e.xp6(1),e.Q6J("ngIf",i.item.contents),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(3),e.Q6J("ngIf",i.item.description),e.xp6(1),e.Q6J("ngIf",!i.item.description),e.xp6(2),e.Q6J("color","primary"))},dependencies:[s.ot,s.lW,s.o6,s.RK,c.rH,m.Ps,m.Hw,d.O5],encapsulation:2,changeDetection:0}),n})(),ne=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["file-manager"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2,changeDetection:0}),n})();var F=a(262);const C=(n,o)=>{const t=(0,e.f3M)(g),i=(0,e.f3M)(c.F0);return t.getItemById(n.paramMap.get("id")).pipe((0,F.K)(r=>{console.error(r);const l=o.url.split("/").slice(0,-1).join("/");return i.navigateByUrl(l),(0,f._)(r)}))},M=(n,o,t,i)=>{let r=i.root;for(;r.firstChild;)r=r.firstChild;return!(i.url.includes("/file-manager")&&!i.url.includes("/details"))||n.closeDrawer().then(()=>!0)},oe=[{path:"",component:ne,children:[{path:"folders/:folderId",component:_,resolve:{item:(n,o)=>{const t=(0,e.f3M)(g),i=(0,e.f3M)(c.F0);return t.getItems(n.paramMap.get("folderId")).pipe((0,F.K)(r=>{console.error(r);const l=o.url.split("/").slice(0,-1).join("/");return i.navigateByUrl(l),(0,f._)(r)}))}},children:[{path:"details/:id",component:b,resolve:{item:C},canDeactivate:[M]}]},{path:"",component:_,resolve:{items:()=>(0,e.f3M)(g).getItems()},children:[{path:"details/:id",component:b,resolve:{item:C},canDeactivate:[M]}]}]}]}}]);